<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Pick&Roll</title>
  <link rel="stylesheet" href="css/style.css"/>
  <script defer src="js/builder.js"></script>
</head>
<body class="theme">
  <header class="site-header">
<img src="img/로고타임.png" alt="Pick&Roll 로고" class="logo-img" />
    <nav class="nav">
      <a href="index.html">MAIN</a>
      <a class="active" href="sub1.html">PICK</a>
      <a href="sub2.html">ROLL</a>
    </nav>
  </header>

  <main class="builder-layout">
    <!-- 좌측: 스테이지 -->
    <section class="stage">
      <button class="ghost-btn reset-btn" id="btnReset" aria-label="Reset">Reset</button>   

      <!-- 베이스: 김 + 밥 (SVG) -->
      <div class="stage-base">
        <svg viewBox="0 0 400 280" class="stage-svg" aria-label="김 위에 밥만 있는 김밥">
          <rect x="40" y="60" width="320" height="160" rx="24" class="svg-seaweed"/>
          <ellipse cx="200" cy="140" rx="160" ry="70" class="svg-rice"/>
        </svg>
        <!-- 재료가 쌓일 컨테이너 -->
        <div id="stack" class="stack"></div>
      </div>
      <p class="hint">원하는 재료 버튼을 오른쪽에서 클릭하세요. 같은 재료도 여러 번 쌓을 수 있어요.</p>
    </section>

<aside class="ingredients-panel">
  <h2>속재료</h2>
  <div id="ingredientsGrid" class="ingredients-grid"></div>

  <div class="panel-actions">
    <button class="solid-btn done-btn" id="btnDone">Done</button>
  </div>
</aside>
<div id="riceModal" class="modal" aria-hidden="true">
  <div class="modal-backdrop"></div>
  <div class="modal-dialog" role="dialog" aria-modal="true" aria-labelledby="riceTitle">
    <h3 id="riceTitle">밥을 선택해 주세요</h3>
    <p class="modal-note" style="margin-top:-6px">선택 전에는 배경을 클릭할 수 없어요.</p>

    <div class="choice-grid">
      <!-- A: 쌀밥 -->
      <button id="btnChooseWhite" class="choice-btn choice-left" aria-label="쌀밥 선택">
        <div class="choice-title">A. 쌀밥</div>
        <div class="choice-desc">부드럽고 담백한 흰쌀밥</div>
      </button>

      <!-- B: 현미밥 -->
      <button id="btnChooseBrown" class="choice-btn choice-right" aria-label="현미밥 선택">
        <div class="choice-title">B. 현미밥</div>
        <div class="choice-desc">고소하고 건강한 잡곡밥</div>
      </button>
    </div>
  </div>
</div>
  </main>

  <!-- 완료 팝업 모달 -->
<div id="doneModal" class="modal" aria-hidden="true">
  <div class="modal-backdrop"></div>
  <div class="modal-dialog" role="dialog" aria-modal="true" aria-labelledby="doneTitle">
    <button class="modal-close" id="modalClose" aria-label="닫기">×</button>
    <h3 id="doneTitle">나만의 김밥 완성!</h3>

    <!-- ✅ 캔버스 대신 이미지 -->
    <img id="resultImage" class="result-image" src="" alt="완성된 김밥" />

    <div class="form-row">
      <label for="recipeName" class="form-label">레시피 이름</label>
      <input type="text" id="recipeName" class="form-input" placeholder="예: 점심 김밥 #1" maxlength="40" />
    </div>

    <div class="modal-actions">
      <button id="saveRecipe" class="solid-btn">레시피 저장</button>
    </div>

    <p class="modal-note">저장하면 ARC에서 썸네일과 재료 리스트를 볼 수 있어요.</p>
  </div>
</div>
<canvas id="canvas" width="600" height="400" style="display: none;"></canvas>
</body>
</html>
